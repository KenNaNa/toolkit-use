/*!
 * toolkit-use v0.0.15
 * (c) 2023 ~ 至今 kennana
 * Released under the MIT License.
 */
import e from"clipboard";import"core-js/modules/es.array.iterator.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.set.js";import"core-js/modules/es.string.iterator.js";import"core-js/modules/web.dom-collections.iterator.js";import"core-js/modules/es.array.from.js";import"core-js/modules/es.array.includes.js";import"core-js/modules/es.regexp.exec.js";import"core-js/modules/es.regexp.test.js";import"core-js/modules/es.string.replace.js";import"core-js/modules/es.regexp.constructor.js";import"core-js/modules/es.regexp.sticky.js";import"core-js/modules/es.regexp.to-string.js";import"core-js/modules/es.parse-int.js";import"core-js/modules/es.number.constructor.js";import"core-js/modules/es.array.slice.js";import"core-js/modules/web.url.js";import"core-js/modules/web.url-search-params.js";import"core-js/modules/es.string.pad-start.js";import"core-js/modules/es.parse-float.js";import"core-js/modules/es.object.get-prototype-of.js";import"core-js/modules/es.json.stringify.js";import"core-js/modules/es.object.keys.js";import"core-js/modules/es.array.index-of.js";import"core-js/modules/es.array.splice.js";import"core-js/modules/es.object.define-property.js";import"core-js/modules/es.array.concat.js";import"core-js/modules/es.string.split.js";import"core-js/modules/es.array.filter.js";import t from"crypto-js";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function a(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(){function t(r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"_data",""),a(this,"_class",""),a(this,"_clipboard",void 0),a(this,"_options",void 0),this._class=r.className,this._data=r.message,console.log("options",r,this._class),this._clipboard=new e(this._class,{text:function(){return n._data}}),this._options=r}var r,n,i;return r=t,(n=[{key:"copy",value:function(){var e=this;return this._clipboard.on("success",(function(){e._options.onSuccess&&e._options.onSuccess(),e._clipboard.destroy()})),this._clipboard.on("error",(function(){e._options.onError&&e._options.onError(),e._clipboard.destroy()})),this._clipboard}}])&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(),s={uniqueOptionsArr:function(e,t){for(var r={},n=[],o=0;o<e.length;o++)r[e[o][t]]||(n.push(e[o]),r[e[o][t]]=!0);return n},uniqueValueArr:function(e){var t=new Set(e);return Array.from(t)},deepClone:function(e){if([null,void 0,NaN,!1].includes(e)||"object"!==r(e)&&"function"!=typeof e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]="object"===r(e[n])?s.deepClone(e[n]):e[n];return t}},u={formatDate:function(e,t){var r={"M+":(e=new Date(e)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,e.getFullYear().toString().substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[e.getDay().toString()+""])),r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]+"":("00"+r[n]).substr((""+r[n]).length)));return t},isLeap:function(e){return e%4==0&&e%100!=0||e%400==0},getWeek:function(e){return["日","一","二","三","四","五","六"][new Date(e).getDay()]},getMonthDays:function(e,t){if((t=parseInt(String(t))-1)<0||t>11)return 0;var r=[31,28,31,30,31,30,31,31,30,31,30,31];return u.isLeap(e)&&(r[1]=29),r[t]},padLeftZero:function(e){var t=parseInt(String(e));return t>9?t:"0"+t},getToday:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-mm-dd",r=new Date,n=r.getFullYear(),o=u.padLeftZero(r.getMonth()+1),a=u.padLeftZero(r.getDate()),i=u.padLeftZero(r.getHours()),s=u.padLeftZero(r.getMinutes()),c=u.padLeftZero(r.getSeconds());switch(t){case"yyyy-mm-dd":e=n+"-"+o+"-"+a;break;case"mm-dd-yyyy":e=o+"-"+a+"-"+n;break;case"yyyy-mm-dd hh:MM:ss":e=n+"-"+o+"-"+a+" "+i+":"+s+":"+c;break;case"hh:MM:ss":e=i+":"+s+":"+c;break;case"yyyy":e=n;break;case"mm":e=o;break;case"dd":e=a;break;case"hh":e=i;break;case"MM":e=s;break;case"ss":e=c;break;case"mm-dd":e=o+"-"+a;break;default:e="参数错误"}return e},getYesterday:function(e){var t=e.split("-"),r=parseInt(t[0]),n=parseInt(t[1]),o=parseInt(t[2]);return n>12||n<1||o>u.getMonthDays(r,n)?"日期不合法":(o-=1)>0?r+"-"+u.padLeftZero(n)+"-"+u.padLeftZero(o):(n-=1)>0?r+"-"+u.padLeftZero(n)+"-"+u.getMonthDays(r,n):(r-=1)+"-12-"+u.getMonthDays(r,12)},getTomorrow:function(e){var t=e.split("-"),r=parseInt(t[0]),n=parseInt(t[1]),o=parseInt(t[2]);return n>12||n<1||o>u.getMonthDays(r,n)?"日期不合法":(o+=1)<=u.getMonthDays(r,n)?r+"-"+u.padLeftZero(n)+"-"+u.padLeftZero(o):(n+=1)<13?r+"-"+u.padLeftZero(n)+"-01":(r+=1)+"-01-01"},beforeNDay:function(e,t){if(e.split("-").length<3)return"日期格式错误";var r=u.formatDate(e,"yyyy-MM-dd HH:mm:ss");for(t=parseInt(String(t));t--;)r=u.getYesterday(r);return r},afterNDay:function(e,t){if(e.split("-").length<3)return"日期格式错误";for(var r=u.formatDate(e,"yyyy-MM-dd HH:mm:ss");t--;)r=u.getTomorrow(r);return r}},c={transform:function(e,t){var r=0,n=Number(e);if(!isNaN(n)){var o=n.toString().split(".");if(o.length>1&&o[1].length>t)"5"===o[1].slice(t,t+1)&&(n+=Math.pow(.1,t+1)),r=n.toFixed(t);else r=n;r=Number(r)}return r},percent:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=c.transform(Number(100*e),t).toString();return r&&(n+="%"),n},point:function(e,t){var r=e.replace("%",""),n=Number(r)/100;return c.transform(n,t)}},l={frontUrlDownload:function(e,t){var r=document.createElement("a");r.href=e,r.download=t,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},dataStreamDownloadExcelOrPdf:function(e,t,r,n){var o,a="";"pdf"===r&&(a=n||"application/pdf;chartset=utf-8",o="".concat(t,".pdf")),"excel"===r&&(a=n||"application/vnd.ms-excel;charset=utf-8",o="".concat(t,".xlsx"));var i=new Blob([e],{type:a});if("download"in document.createElement("a")){var s=document.createElement("a");s.download=o,s.style.display="none",s.href=URL.createObjectURL(i),document.body.appendChild(s),s.click(),URL.revokeObjectURL(s.href),document.body.removeChild(s)}else try{window.navigator.msSaveBlob(i,o)}catch(e){console.log(e)}}},f={padStartZero:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")}},d={significantDigitsReg:/^[+-]?(0|([1-9]\d+))(\.\d+)?$/,chineseRealNameReg:/^[\u4E00-\u9FA5]{2,10}(·[\u4E00-\u9FA5]{2,10}){0,2}$/,identificationCardReg:/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{2})(\d)(\d|X)$/,identificationCardRegO:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,phoneReg:/^1[34578]\d{9}$/,cryptographicStrengthReg:/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,emailReg:/^([a-z\d._-]+)@([a-z\d-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$/,emailRegO:/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,urlReg:/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,ipV4Reg:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,colorReg:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,dateReg:/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/,qqReg:/^[1-9][0-9]{4,10}$/,wxReg:/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/,carReg:/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/,hanziReg:/^[\u4e00-\u9fa5]{0,}$/,hyphenateRE:/\B([A-Z])/g,camelizeRE:/-(\w)/g},p=function(e){return null!=e},g=function(e){return null!==e&&"object"===r(e)},m=Object.prototype.toString,y=Object.prototype.hasOwnProperty;function h(e){if("object"!==r(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function v(e,t){for(var r in t)e[r]=t[r];return e}function b(e){var t=Object.create(null);return function(r){return t[r]||(t[r]=e(r))}}var j=b((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),w=b((function(e){return e.replace(d.hyphenateRE,"-$1").toLowerCase()})),S=b((function(e){return e.replace(d.camelizeRE,(function(e,t){return t?t.toUpperCase():""}))}));var E=function e(t,r){if(t===r)return!0;var n=g(t),o=g(r);if(!n||!o)return!n&&!o&&String(t)===String(r);try{var a=Array.isArray(t),i=Array.isArray(r);if(a&&i)return t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(a||i)return!1;var s=Object.keys(t),u=Object.keys(r);return s.length===u.length&&s.every((function(n){return e(t[n],r[n])}))}catch(e){return!1}};var A=Object.prototype.toString,D=function(e){return A.call(e)},R=Array.isArray,O=function(e){return"string"==typeof e},x={isUndef:function(e){return null==e},isDef:p,isTrue:function(e){return!0===e},isFalse:function(e){return!1===e},isPrimitive:function(e){return"string"==typeof e||"number"==typeof e||"symbol"===r(e)||"boolean"==typeof e},isObject:g,isPromise:function(e){return p(e)&&"function"==typeof e.then&&"function"==typeof e.catch},toRawType:function(e){return m.call(e).slice(8,-1)},hasOwn:function(e,t){return y.call(e,t)},toNumber:function(e){var t=parseFloat(e);return isNaN(t)?e:t},isPlainObject:h,toString:function(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===m?JSON.stringify(e,null,2):String(e)},toArray:function(e,t){t=t||0;for(var r=e.length-t,n=new Array(r);r--;)n[r]=e[r+t];return n},extend:v,toObject:function(e){for(var t={},r=0;r<e.length;r++)e[r]&&v(t,e[r]);return t},cached:b,capitalize:j,hyphenate:w,camelize:S,makeMap:function(e,t){for(var r=Object.create(null),n=e.split(","),o=0;o<n.length;o++)r[n[o]]=!0;return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}},looseEqual:E,remove:function(e,t){if(e.length){var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}},looseCompareArrays:function(e,t){if(e.length!==t.length)return!1;for(var r=!0,n=0;r&&n<e.length;n++)r=E(e[n],t[n]);return r},def:function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},objectToString:A,toTypeString:D,isArray:R,isMap:function(e){return"[object Map]"===D(e)},isSet:function(e){return"[object Set]"===D(e)},isDate:function(e){return e instanceof Date},isFunction:function(e){return"function"==typeof e},isString:O,isSymbol:function(e){return"symbol"===r(e)},isIntegerKey:function(e){return O(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},invokeArrayFns:function(e,t){for(var r=0;r<e.length;r++)e[r](t)},hasChanged:function(e,t){return!Object.is(e,t)}},k={addHandler:function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},removeHandler:function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null},getEvent:function(e){return e||window.event},getTarget:function(e){return e.target||e.srcElement},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getRelatedTarget:function(e){return e.relatedTarget?e.relatedTarget:e.toElement?e.toElement:e.fromElement?e.fromElement:null},getButton:function(e){if(document.implementation.hasFeature("MouseEvents","2.0"))return e.button;switch(e.button){case 0:case 1:case 3:case 5:case 7:return 0;case 2:case 6:return 2;case 4:return 1}},getWheelDelta:function(e){return e.wheelDelta?e.wheelDelta:40*-e.detail},getCharCode:function(e){return"number"==typeof e.charCode?e.charCode:e.keyCode}};var C={getColor:function(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",r=0;r<6;r++)t+=e[Math.floor(16*Math.random())];return t="#"+t},addHandler:k.addHandler,removeHandler:k.removeHandler,getEvent:k.getEvent,getTarget:k.getTarget,preventDefault:k.preventDefault,stopPropagation:k.stopPropagation,getRelatedTarget:k.getRelatedTarget,getButton:k.getButton,getWheelDelta:k.getWheelDelta,getCharCode:k.getCharCode,addClass:function(e,t){for(var r=e.className.split(" "),n=t.split(" "),o=r.concat(n),a=0;a<o.length;a++)for(var i=0;i<o.length-a-1;i++)o[a]==o[i]&&(o.splice(i,1),o.length--)},removeClass:function(e,t){var r,n,o=e.className.split(/\s+/),a=o.length;for(n=0;n<a;n++)if(o[n]==t){r=n;break}return o.splice(n,1),e.className=o.join(" "),r},getElementLeft:function(e){for(var t=e.offsetLeft,r=e.offsetParent;null!==r;)t+=r.offsetLeft,r=r.offsetParent;return t},getElementTop:function(e){for(var t=e.offsetTop,r=e.offsetParent;null!==r;)t+=r.offsetTop,r=r.offsetParent;return t},getOffset:function(e){for(var t={left:0,top:0};null!=e.offsetParent;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},getViewport:function(){return"BackCompat"==document.compatMode?{width:document.body.clientWidth,height:document.body.clientHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},outputAttributes:function(e){for(var t,r,n=new Array,o=e.attributes.length,a=0;a<o;a++)e.attributes[a].specified&&(t=e.attributes[a].nodeName,r=e.attributes[a].nodeValue,n.push(t+'="'+r+'"'));return n.join(" ")}},M=t.enc.Utf8.parse("3333e6e143439161"),L=t.enc.Utf8.parse("e3bbe7e3ba84431a"),N="localStorage",P="SDF_0.0.1",$=1,Z=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(""!==t&&null!=t||(t=null),isNaN(r)||r<0)throw new Error("Expire must be a number");r=1e3*(r||$);var n={value:t,time:Date.now(),expire:r},o=z(JSON.stringify(n));window[N].setItem(H(e),o)},_=function(){for(var e=window[N].length,t=new Array,r=0;r<e;r++){var n=window[N].key(r),o=window[N].getItem(n);t[r]={key:n,val:o}}return t},T=function(e){window[N].removeItem(H(e))},H=function(e){return P+"_"+e},I=function(e){var t=P.length+1;return e.substr(t)},z=function(e){if("object"===r(e))try{e=JSON.stringify(e)}catch(e){console.log("encrypt error:",e)}var n=t.enc.Utf8.parse(e);return t.AES.encrypt(n,M,{iv:L,mode:t.mode.CBC,padding:t.pad.Pkcs7}).ciphertext.toString()},F=function(e){var r=t.enc.Hex.parse(e),n=t.enc.Base64.stringify(r),o=t.AES.decrypt(n,M,{iv:L,mode:t.mode.CBC,padding:t.pad.Pkcs7});return o.toString(t.enc.Utf8).toString()},U={isSupportStorage:function(){return"undefined"!=typeof Storage},setStorage:Z,getStorage:function(e){if(e=H(e),!window[N].getItem(e)||"null"===JSON.stringify(window[N].getItem(e)))return null;var t=JSON.parse(F(window[N].getItem(e))),r=Date.now();return t.expire&&6e3*$<r-t.time?(T(e),null):(Z(I(e),t.value),t.value)},hasStorage:function(e){return e=H(e),!!_().filter((function(t){return t.key===e})).length},getStorageKeys:function(){for(var e=_(),t=[],r=0;r<e.length;r++){var n=e[r].key;t.push(n)}return t},getStorageForIndex:function(e){return window[N].key(e)},getStorageLength:function(){return window[N].length},getStorageAll:_,removeStorage:T,clearStorage:function(){window[N].clear()},autoAddPrefix:H,autoRemovePrefix:I,encrypt:z,decrypt:F};export{s as ToolkitUseArray,i as ToolkitUseClipboard,u as ToolkitUseDate,c as ToolkitUseDecimal,C as ToolkitUseDom,l as ToolkitUseDownload,d as ToolkitUseRegex,x as ToolkitUseShared,U as ToolkitUseStorage,f as ToolkitUseString};
